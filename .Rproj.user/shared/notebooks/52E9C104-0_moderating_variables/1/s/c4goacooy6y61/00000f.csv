"0","# Check per class for nominations not present in ppn"
"0","classes = sort(unique(edges$class))"
"0",""
"0","invalid_all = data.frame(name = numeric(), class = numeric(), school = numeric())"
"0",""
"0","for (c in classes) {"
"0","  cat(""\nClass:"", c, ""\n"")"
"0","  "
"0","  class_data  = subset(edges, class == c)"
"0","  class_nodes = subset(nodes, class == c)"
"0","  "
"0","  # Convert to numeric"
"0","  class_data$target = as.numeric(class_data$target)"
"0","  class_nodes$name = as.numeric(class_nodes$name)"
"0","  "
"0","  # IDs mentioned but not present"
"0","  invalid_ids = setdiff(unique(class_data$target), unique(class_nodes$name))"
"0","  "
"0","  if (length(invalid_ids) == 0) {"
"0","    cat(""All nominations in this class refer to existing participants.\n"")"
"0","  } else {"
"0","    cat(""Invalid nominations found (does not have ppn in original data):\n"")"
"0","    print(invalid_ids)"
"0","    "
"0","    # Store these invalid IDs in a data frame"
"0","    temp = data.frame("
"0","      name = invalid_ids,"
"0","      class = rep(c, length(invalid_ids)),"
"0","      school = unique(class_nodes$school)  # assumes all rows in class_nodes have same school"
"0","    )"
"0","    invalid_all = rbind(invalid_all, temp)"
"0","  }"
"0","}"
"1","
Class:"
"1"," "
"1","1"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1"," [1]"
"1"," 69"
"1"," 77"
"1"," 65"
"1"," 78"
"1"," 79"
"1"," 75"
"1"," 82"
"1"," 55"
"1"," 64"
"1"," 71"
"1"," 81"
"1"," 68"
"1"," 76"
"1"," 58"
"1","
"
"1","
Class:"
"1"," "
"1","2"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1","[1]"
"1","  90"
"1"," 110"
"1","  94"
"1"," 101"
"1"," 105"
"1","  97"
"1","  86"
"1"," 108"
"1","
"
"1","
Class:"
"1"," "
"1","3"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1"," [1]"
"1"," 135"
"1"," 136"
"1"," 122"
"1"," 123"
"1"," 127"
"1"," 114"
"1"," 131"
"1"," 115"
"1"," 129"
"1"," 119"
"1","
"
"1","
Class:"
"1"," "
"1","4"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1","[1]"
"1"," 145"
"1"," 138"
"1"," 143"
"1"," 150"
"1"," 152"
"1"," 149"
"1","
"
"1","
Class:"
"1"," "
"1","5"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1"," [1]"
"1"," 156"
"1"," 183"
"1"," 178"
"1"," 158"
"1"," 164"
"1"," 161"
"1"," 176"
"1"," 163"
"1"," 166"
"1"," 180"
"1"," 182"
"1"," 157"
"1"," 160"
"1"," 171"
"1","
"
"1","
Class:"
"1"," "
"1","6"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1","[1]"
"1"," 10"
"1","  8"
"1"," 24"
"1","  1"
"1"," 21"
"1"," 11"
"1"," 22"
"1","
"
"1","
Class:"
"1"," "
"1","7"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1","[1]"
"1"," 50"
"1"," 51"
"1"," 38"
"1"," 47"
"1"," 40"
"1"," 37"
"1"," 45"
"1"," 31"
"1","
"
"1","
Class:"
"1"," "
"1","8"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1"," [1]"
"1"," 193"
"1"," 194"
"1"," 195"
"1"," 196"
"1"," 198"
"1"," 199"
"1"," 202"
"1"," 203"
"1"," 205"
"1"," 209"
"1"," 187"
"1"," 190"
"1"," 197"
"1"," 204"
"1"," 210"
"1","
"
"1","
Class:"
"1"," "
"1","9"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1","[1]"
"1"," 231"
"1"," 234"
"1"," 226"
"1"," 227"
"1"," 250"
"1"," 220"
"1"," 228"
"1"," 232"
"1"," 248"
"1","
"
"1","
Class:"
"1"," "
"1","10"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1"," [1]"
"1"," 276"
"1"," 257"
"1"," 268"
"1"," 277"
"1"," 282"
"1"," 255"
"1"," 272"
"1"," 281"
"1"," 273"
"1"," 259"
"1"," 265"
"1"," 275"
"1"," 254"
"1","
"
"1","
Class:"
"1"," "
"1","11"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1"," [1]"
"1"," 287"
"1"," 307"
"1"," 292"
"1"," 285"
"1"," 304"
"1"," 309"
"1"," 313"
"1"," 298"
"1"," 308"
"1"," 288"
"1"," 312"
"1","
"
"1","
Class:"
"1"," "
"1","12"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1"," [1]"
"1"," 318"
"1"," 332"
"1"," 337"
"1"," 334"
"1"," 316"
"1"," 321"
"1"," 327"
"1"," 345"
"1"," 339"
"1"," 336"
"1"," 333"
"1"," 329"
"1","
"
"1","
Class:"
"1"," "
"1","13"
"1"," "
"1","
"
"1","Invalid nominations found (does not have ppn in original data):
"
"1","[1]"
"1"," 352"
"1"," 356"
"1"," 354"
"1"," 361"
"1"," 355"
"1","
"
